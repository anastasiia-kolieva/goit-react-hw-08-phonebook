{"version":3,"sources":["redux/auth/auth-selectors.js","components/Navigation/Navigation.js","components/UserMenu/UserMenu.js","components/UserMenu/default-avatar.png","components/AuthNav/AuthNav.js","components/Appbar/Appbar.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","redux/auth/auth-reducer.js","redux/store.js","index.js","components/Navigation/Navigation.module.css","components/AuthNav/AuthNav.module.css","redux/auth/auth-operations.js","redux/contacts/actions.js","redux/auth/auth-actions.js","redux/contacts/types.js","components/UserMenu/UserMenu.module.css","components/Container/Container.js","components/Container/Container.module.css","components/Appbar/Appbar.module.css"],"names":["authSelectors","getisAthenticated","state","auth","isAthenticated","getToken","token","getUsername","user","name","Navigation","isAuthenticated","useSelector","exact","to","className","s","link","activeClassName","activeLink","UserMenu","dispatch","useDispatch","container","src","alt","width","avatar","type","onClick","authOperations","logOut","AuthNav","Appbar","header","PrivateRoute","Component","component","redirectTo","routeProps","render","props","PublicRoute","shouldRedirect","restricted","HomeView","lazy","RegisterView","LoginView","ContactsView","App","useEffect","getCurrentUser","Container","fallback","color","height","path","initialUserState","email","createReducer","authActions","_","action","payload","error","combineReducers","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","itemsReducer","actions","filter","contact","id","filterReducer","actionsTypes","changeFilter","contactsReducer","items","store","configureStore","reducer","persistReducer","authReducer","contacts","phonebookStore","persistor","persistStore","ReactDOM","StrictMode","loading","document","getElementById","module","exports","axios","defaults","baseURL","headers","common","Authorization","operations","register","credentials","a","post","responce","data","message","logIn","getState","persistedToken","get","fetchContactsRequest","createAction","fetchContactsSuccess","fetchContactsError","contactFormSubmithandlerRequest","contactFormSubmithandlerSuccess","contactFormSubmithandlerError","handelDeleteContactRequest","handelDeleteContactSuccess","handelDeleteContactError","registerRequest","registerSuccess","registerError","loginRequest","loginSuccess","loginError","logoutRequest","logoutSuccess","logoutError","getCurrentUserRequest","getCurrentUserSuccess","getCurrentUserError","handelDeleteContact","children","styles"],"mappings":"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","file":"static/js/main.3cae976d.chunk.js","sourcesContent":["const getisAthenticated = state => state.auth.isAthenticated;\n\nconst getToken = state => state.auth.token;\n\nconst getUsername = state => state.auth.user.name;\n\nconst authSelectors = {\n  getisAthenticated,\n  getToken,\n  getUsername,\n};\n\nexport default authSelectors;\n","import { useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport authSelectors from '../../redux/auth/auth-selectors';\nimport s from './Navigation.module.css';\n\nexport default function Navigation() {\n  const isAuthenticated = useSelector(authSelectors.getisAthenticated);\n  return (\n    <>\n      <NavLink exact to=\"/\" className={s.link} activeClassName={s.activeLink}>\n        Home Page\n      </NavLink>\n\n      {isAuthenticated && (\n        <NavLink\n          to=\"/contacts\"\n          className={s.link}\n          activeClassName={s.activeLink}\n        >\n          Phonebook\n        </NavLink>\n      )}\n    </>\n  );\n}\n","import { useDispatch, useSelector } from 'react-redux';\nimport authSelectors from '../../redux/auth/auth-selectors';\nimport authOperations from '../../redux/auth/auth-operations';\nimport defaultAvatar from './default-avatar.png';\nimport s from './UserMenu.module.css';\n\nexport default function UserMenu() {\n  const dispatch = useDispatch();\n  const name = useSelector(authSelectors.getUsername);\n  const avatar = defaultAvatar;\n\n  return (\n    <div className={s.container}>\n      <img src={avatar} alt=\"\" width=\"32\" className={s.avatar} />\n      <span className={s.name}>Welcome home, Zombi {name} !</span>\n      <button type=\"button\" onClick={() => dispatch(authOperations.logOut())}>\n        Log Out\n      </button>\n    </div>\n  );\n}\n","export default \"data:image/png;base64,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\"","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport s from './AuthNav.module.css';\n\nexport default function AuthNav() {\n  return (\n    <div>\n      <NavLink\n        to=\"/register\"\n        exact\n        className={s.link}\n        activeClassName={s.activeLink}\n      >\n        Registration\n      </NavLink>\n      <NavLink\n        to=\"/login\"\n        exact\n        className={s.link}\n        activeClassName={s.activeLink}\n      >\n        Login\n      </NavLink>\n    </div>\n  );\n}\n","import { useSelector } from 'react-redux';\nimport Navigation from '../Navigation/Navigation';\nimport UserMenu from '../UserMenu/UserMenu';\nimport AuthNav from '../AuthNav/AuthNav';\nimport authSelectors from '../../redux/auth/auth-selectors';\nimport s from './Appbar.module.css';\n\nexport default function Appbar() {\n  const isAthenticated = useSelector(authSelectors.getisAthenticated);\n  return (\n    <header className={s.header}>\n      <Navigation />\n      {isAthenticated ? <UserMenu /> : <AuthNav />}\n    </header>\n  );\n}\n","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport authSelectors from '../redux/auth/auth-selectors';\n\n/**\n * 1. Он должен повторять API Route\n *  2. Он должен рендерить Route\n * - Если маршрут приватный и пользователь залогинен, рендерит компонент\n * - В противном случае рендерит Redirect на redirectTo\n */\n\nexport default function PrivateRoute({\n  component: Component,\n  redirectTo,\n  ...routeProps\n}) {\n  const isAuthenticated = useSelector(authSelectors.getisAthenticated);\n  return (\n    <Route\n      {...routeProps}\n      render={props =>\n        isAuthenticated ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to={redirectTo} />\n        )\n      }\n    />\n  );\n}\n","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport authSelectors from '../redux/auth/auth-selectors';\n\n/**\n * - Если маршрут ограниченный, и юзер залогинен, рендерит редирект на redirectTo\n * - В противном случае рендерит компонент\n *\n */\n\nexport default function PublicRoute({\n  component: Component,\n  redirectTo,\n  ...routeProps\n}) {\n  const isAuthenticated = useSelector(authSelectors.getisAthenticated);\n  const shouldRedirect = isAuthenticated && routeProps.restricted;\n  return (\n    <Route\n      {...routeProps}\n      render={props =>\n        shouldRedirect ? <Redirect to={redirectTo} /> : <Component {...props} />\n      }\n    />\n  );\n}\n","import { useEffect, Suspense, lazy } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Route, Switch } from 'react-router-dom';\nimport Loader from 'react-loader-spinner';\nimport Container from './components/Container/Container';\nimport AppBar from './components/Appbar/Appbar';\n// import HomeView from './views/HomeView';\n// import RegisterView from './views/RegisterView';\n// import LoginView from './views/LoginView';\n// import ContactsView from './views/ContactsView';\nimport authOperations from './redux/auth/auth-operations';\nimport PrivateRoute from './components/PrivateRoute';\nimport PublicRoute from './components/PublicRoute';\n\nconst HomeView = lazy(() => import('./views/HomeView'));\nconst RegisterView = lazy(() => import('./views/RegisterView'));\nconst LoginView = lazy(() => import('./views/LoginView'));\nconst ContactsView = lazy(() => import('./views/ContactsView'));\n\nexport default function App() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(authOperations.getCurrentUser());\n  }, [dispatch]);\n\n  return (\n    <Container>\n      <AppBar />\n\n      <Suspense\n        fallback={\n          <Loader type=\"Hearts\" color=\"#f842da\" height={80} width={80} />\n        }\n      >\n        <Switch>\n          <Route exact path=\"/\" component={HomeView} />\n          <PublicRoute\n            path=\"/register\"\n            component={RegisterView}\n            redirectTo=\"/contacts\"\n            restricted\n          />\n          <PublicRoute\n            path=\"/login\"\n            component={LoginView}\n            redirectTo=\"/contacts\"\n            restricted\n          />\n          <PrivateRoute\n            path=\"/contacts\"\n            component={ContactsView}\n            redirectTo=\"/login\"\n          />\n        </Switch>\n      </Suspense>\n    </Container>\n  );\n}\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport * as authActions from './auth-actions';\n\nconst initialUserState = {\n  user: { name: null, email: null },\n};\n\n// сюда будем записывать свойство user из responce\n// в payload будет свойство user и свойство token\nconst user = createReducer(initialUserState, {\n  [authActions.registerSuccess]: (_, action) => action.payload.user,\n  [authActions.loginSuccess]: (_, action) => action.payload.user,\n  [authActions.logoutSuccess]: () => initialUserState.user,\n  [authActions.getCurrentUserSuccess]: (_, action) => action.payload,\n});\n\n// сюда будем записывать свойство token из responce\n// в payload будет свойство token\nconst token = createReducer(null, {\n  [authActions.registerSuccess]: (_, action) => action.payload.token,\n  [authActions.loginSuccess]: (_, action) => action.payload.token,\n  [authActions.logoutSuccess]: () => null,\n});\n\nconst error = createReducer(null, {\n  [authActions.registerError]: (_, action) => action.payload,\n  [authActions.loginError]: (_, action) => action.payload,\n  [authActions.logoutError]: (_, action) => action.payload,\n  [authActions.getCurrentUserError]: (_, action) => action.payload,\n});\n\nconst isAthenticated = createReducer(false, {\n  [authActions.registerSuccess]: () => true,\n  [authActions.loginSuccess]: () => true,\n  [authActions.getCurrentUserSuccess]: () => true,\n  [authActions.registerError]: () => false,\n  [authActions.loginError]: () => false,\n  [authActions.getCurrentUserError]: () => false,\n  [authActions.logoutSuccess]: () => false,\n});\n\n// auth такого формата\nexport default combineReducers({ isAthenticated, user, token, error });\n\n// STORE:\n// {\n//     auth:{\n//  isAthenticated: isAthenticated,\n//         user: user,\n//         token:token,\n//         error:error,\n//     },\n//     contacts:{\n//         items: itemsReducer,\n//         filter: filterReducer,\n//     }\n// }\n","import { combineReducers } from 'redux';\nimport {\n  configureStore,\n  createReducer,\n  getDefaultMiddleware,\n} from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport * as actions from './contacts/actions';\nimport actionsTypes from './contacts/types';\nimport authReducer from './auth/auth-reducer';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n];\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nconst itemsReducer = createReducer([], {\n  [actions.fetchContactsSuccess]: (_, action) => action.payload,\n  [actions.handelDeleteContactSuccess]: (state, action) =>\n    state.filter(contact => contact.id !== action.payload),\n  [actions.contactFormSubmithandlerSuccess]: (state, action) => [\n    ...state,\n    action.payload,\n  ],\n});\n\nconst filterReducer = createReducer('', {\n  [actionsTypes.changeFilter]: (_, action) => action.payload,\n});\n\nconst contactsReducer = combineReducers({\n  items: itemsReducer,\n  filter: filterReducer,\n});\n\nconst store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    contacts: contactsReducer,\n  },\n  middleware,\n});\n\nconst persistor = persistStore(store);\n\nconst phonebookStore = { store, persistor };\n\nexport default phonebookStore;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport './index.css';\nimport App from './App';\nimport store from './redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store.store}>\n      <PersistGate loading={null} persistor={store.persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__1LHev\",\"activeLink\":\"Navigation_activeLink__hdXf2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__1OWIo\",\"activeLink\":\"AuthNav_activeLink__1y1V0\"};","import axios from 'axios';\nimport * as authActions from './auth-actions';\n\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\n/*\n * POST @ /users/signup\n * body: { name, email, password }\n * После успешной регистрации добавляем токен в HTTP-заголовок\n * credentials - это данные пользователя, форма передаёт\n */\n//  перед dispatch ставится async, потомуч-то диспатчится функция\nconst register = credentials => async dispatch => {\n  dispatch(authActions.registerRequest());\n\n  try {\n    const responce = await axios.post('/users/signup', credentials);\n    // сетим токен на заголовок авторизации(на дефолтное свойство axios (axios.defaults.headers.common.Authorization))\n    // чтоб все последующие запросі шли с єтим заголовком авторизации\n    token.set(responce.data.token);\n    // прокидывает responce.data до редюсера. В responce.data лежит обьект со свойствами user и token.\n    //  В payload будет свойство user и свойство token\n    dispatch(authActions.registerSuccess(responce.data));\n  } catch (error) {\n    dispatch(authActions.registerError(error.message));\n  }\n};\n\n/*\n * POST @ /users/login\n * body: { email, password }\n * После успешного логина добавляем токен в HTTP-заголовок\n */\n// credentials - это данные пользователя, форма передаёт\nconst logIn = credentials => async dispatch => {\n  dispatch(authActions.loginRequest());\n\n  try {\n    const responce = await axios.post('/users/login', credentials);\n    // аналогично как и в register\n    token.set(responce.data.token);\n    // прокидывает responce.data до редюсера. В responce.data лежит обьект со свойствами user и token.\n    //  В payload будет свойство user и свойство token\n    dispatch(authActions.loginSuccess(responce.data));\n  } catch (error) {\n    dispatch(authActions.loginError(error.message));\n  }\n};\n\n/*\n * POST @ /users/logout\n * headers: Authorization: Bearer token\n * После успешного логаута, удаляем токен из HTTP-заголовка\n */\nconst logOut = () => async dispatch => {\n  dispatch(authActions.logoutRequest());\n\n  try {\n    await axios.post('/users/logout');\n\n    token.unset();\n\n    dispatch(authActions.logoutSuccess());\n  } catch (error) {\n    dispatch(authActions.logoutError(error.message));\n  }\n};\n/*\n * GET @ /users/current\n * headers:\n *    Authorization: Bearer token\n *\n * 1. Забираем токен из стейта через getState()\n * 2. Если токена нет, выходим не выполняя никаких операций\n * 3. Если токен есть, добавляет его в HTTP-заголовок и выполянем операцию\n */\nconst getCurrentUser = () => async (dispatch, getState) => {\n  const state = getState();\n  const persistedToken = state.auth.token;\n\n  // если токена в localStorage нет, тогда выходим\n  if (persistedToken === null) {\n    return;\n  }\n\n  token.set(persistedToken);\n\n  dispatch(authActions.getCurrentUserRequest());\n\n  try {\n    const responce = await axios.get('/users/current');\n\n    dispatch(authActions.getCurrentUserSuccess(responce.data));\n  } catch (error) {\n    dispatch(authActions.getCurrentUserError(error.message));\n  }\n};\n\nconst operations = {\n  register,\n  logOut,\n  logIn,\n  getCurrentUser,\n};\nexport default operations;\n","import { createAction } from '@reduxjs/toolkit';\nimport actionsTypes from './types';\n\nconst fetchContactsRequest = createAction('phonebook/fetchContactsRequest');\nconst fetchContactsSuccess = createAction('phonebook/fetchContactsSuccess');\nconst fetchContactsError = createAction('phonebook/fetchContactsError');\n\nconst contactFormSubmithandlerRequest = createAction(\n  'phonebook/contactFormSubmithandlerRequest',\n);\nconst contactFormSubmithandlerSuccess = createAction(\n  'phonebook/contactFormSubmithandlerSuccess',\n);\nconst contactFormSubmithandlerError = createAction(\n  'phonebook/contactFormSubmithandlerError',\n);\n\nconst handelDeleteContactRequest = createAction(\n  'phonebook/handelDeleteContactRequest',\n);\nconst handelDeleteContactSuccess = createAction(\n  'phonebook/handelDeleteContactSuccess',\n);\nconst handelDeleteContactError = createAction(\n  'phonebook/handelDeleteContactError',\n);\n\nconst changeFilter = createAction(actionsTypes.changeFilter);\n\nexport {\n  fetchContactsRequest,\n  fetchContactsSuccess,\n  fetchContactsError,\n  contactFormSubmithandlerRequest,\n  contactFormSubmithandlerSuccess,\n  contactFormSubmithandlerError,\n  handelDeleteContactRequest,\n  handelDeleteContactSuccess,\n  handelDeleteContactError,\n  changeFilter,\n};\n","import { createAction } from '@reduxjs/toolkit';\n\nconst registerRequest = createAction('auth/registerRequest');\nconst registerSuccess = createAction('auth/registerSuccess');\nconst registerError = createAction('auth/registerError');\n\nconst loginRequest = createAction('auth/loginRequest');\nconst loginSuccess = createAction('auth/loginSuccess');\nconst loginError = createAction('auth/loginError');\n\nconst logoutRequest = createAction('auth/logoutRequest');\nconst logoutSuccess = createAction('auth/logoutSuccess');\nconst logoutError = createAction('auth/logoutError');\n\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\n\nexport {\n  registerRequest,\n  registerSuccess,\n  registerError,\n  loginRequest,\n  loginSuccess,\n  loginError,\n  logoutRequest,\n  logoutSuccess,\n  logoutError,\n  getCurrentUserRequest,\n  getCurrentUserSuccess,\n  getCurrentUserError,\n};\n","const handelDeleteContact = 'phonebook/handelDeleteContact';\nconst changeFilter = 'phonebook/changeFilter';\n\nconst actionsTypes = {\n  handelDeleteContact,\n  changeFilter,\n};\n\nexport default actionsTypes;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__XubMH\",\"avatar\":\"UserMenu_avatar__2oT1m\",\"name\":\"UserMenu_name__349NT\"};","import styles from './Container.module.css';\n\nexport default function Container({ children }) {\n  return <div className={styles.container}>{children}</div>;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__sW_Zr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Appbar_header__3FFef\"};"],"sourceRoot":""}